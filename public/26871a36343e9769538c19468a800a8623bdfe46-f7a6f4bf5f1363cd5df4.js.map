{"version":3,"sources":["webpack:///./src/components/recently-views/recently-views.tsx","webpack:///./src/components/activities-list/activities-list.tsx","webpack:///./src/img/icons/icon-rafting.inline.svg","webpack:///./node_modules/cookie/index.js","webpack:///./node_modules/universal-cookie/es6/utils.js","webpack:///./node_modules/universal-cookie/es6/Cookies.js","webpack:///./node_modules/react-cookie/es6/Cookies.js","webpack:///./node_modules/react-cookie/es6/CookiesContext.js","webpack:///./node_modules/react-cookie/es6/useCookies.js"],"names":["reducer","state","action","maxHeight","heights","totalMeasurements","type","payload","index","height","RecentlyViews","isNotMobile","useMedia","minWidth","cookies","useCookies","useState","tours","allTours","setTours","edges","useStaticQuery","useEffect","filter","node","find","tour","frontmatter","slug","reduce","acc","initialState","map","e","useReducer","dispatch","className","id","tourName","duration","fromPricing","destination","activity","subActivity","popularTour","tourLink","code","name","image","key","ref","h3","clientHeight","style","length","to","destinationName","childImageSharp","fluid","alt","data","iconFiles","rafting","RaftingIcon","ActivitiesList","activityName","icon","iconFile","IconFile","undefined","item","title","React","IconRaftingInline","props","createElement","defaultProps","module","exports","default","parse","str","options","TypeError","obj","opt","pairs","split","pairSplitRegExp","dec","decode","i","pair","eq_idx","indexOf","substr","trim","val","slice","tryDecode","serialize","enc","encode","fieldContentRegExp","test","value","maxAge","isNaN","Error","Math","floor","domain","path","expires","toUTCString","httpOnly","secure","sameSite","toLowerCase","decodeURIComponent","encodeURIComponent","readCookie","cleanValue","cleanupCookieValue","doNotParse","isParsingCookie","JSON","__assign","Object","assign","t","s","n","arguments","p","prototype","hasOwnProperty","call","apply","this","Cookies","_this","changeListeners","HAS_DOCUMENT_COOKIE","cookie","parseCookies","Promise","document","catch","_updateBrowserValues","parseOptions","_emitChange","params","get","getAll","result","name_1","set","_a","stringify","remove","finalOptions","Date","addChangeListener","callback","push","removeChangeListener","idx","splice","CookiesContext","Provider","Consumer","dependencies","initialCookies","allCookies","setCookies","previousCookiesRef","onChange","newCookies","oldCookies","_i","dependencies_1","dependency","shouldUpdate","current","bind"],"mappings":"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","file":"26871a36343e9769538c19468a800a8623bdfe46-f7a6f4bf5f1363cd5df4.js","sourcesContent":["import React, { useState, useEffect, useReducer } from 'react'\nimport { Link, graphql, useStaticQuery } from 'gatsby'\nimport Img from 'gatsby-image'\nimport { useCookies } from 'react-cookie'\nimport useMedia from 'use-media'\n\nimport ActivitiesList from '../activities-list'\n\ninterface State {\n  maxHeight: number\n  heights: number[]\n  totalMeasurements: number\n}\n\ninterface Action {\n  type: string\n  payload: {\n    index: number\n    height: number\n  }\n}\n\nconst reducer = (state: State, action: Action) => {\n  const { maxHeight, heights, totalMeasurements } = state\n  const { type, payload } = action\n  const { index, height } = payload\n  switch (type) {\n    case 'add':\n      if (!heights[index] || height > heights[index]) {\n        heights[index] = height\n        return {\n          maxHeight: height > maxHeight ? height : maxHeight,\n          heights,\n          totalMeasurements: height ? totalMeasurements + 1 : totalMeasurements,\n        }\n      }\n      return state\n    default:\n      throw state\n  }\n}\n\nconst RecentlyViews = () => {\n  const isNotMobile = useMedia({ minWidth: 660 })\n  const [cookies] = useCookies(['recently-views'])\n  const [{ tours, allTours }, setTours] = useState({ tours: [], allTours: [] })\n  const {\n    tours: { edges },\n  } = useStaticQuery(graphql`\n    query RecentlyViews {\n      tours: allMarkdownRemark(\n        filter: { frontmatter: { templateKey: { eq: \"tour-page\" } } }\n      ) {\n        edges {\n          node {\n            id\n            frontmatter {\n              tourName\n              slug\n              duration\n              fromPricing\n              difficultyLevel {\n                frontmatter {\n                  title\n                  code\n                  icon\n                }\n              }\n              destination {\n                frontmatter {\n                  code\n                  destinationName\n                }\n              }\n              activity {\n                name {\n                  id\n                  frontmatter {\n                    activityName\n                    code\n                    icon\n                  }\n                }\n              }\n              subActivity {\n                id\n                frontmatter {\n                  code\n                  icon\n                  title\n                }\n              }\n              popularTour {\n                image {\n                  childImageSharp {\n                    fluid(maxWidth: 500, maxHeight: 375, quality: 70) {\n                      ...GatsbyImageSharpFluid_withWebp\n                    }\n                  }\n                  publicURL\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  `)\n  useEffect(() => {\n    let tours\n    if (!cookies['recently-views']) {\n      tours = []\n    } else {\n      tours = cookies['recently-views']\n    }\n    const allTours = edges\n      .filter(({ node }) =>\n        tours.find((tour) => tour === node.frontmatter.slug),\n      )\n      .reduce((acc, { node }) => {\n        acc[node.frontmatter.slug] = node\n        return acc\n      }, {})\n    setTours({ tours, allTours })\n  }, [edges])\n\n  const initialState: State = {\n    maxHeight: 0,\n    heights: tours.map((e) => 0),\n    totalMeasurements: 0,\n  }\n\n  const [state, dispatch] = useReducer(reducer, initialState)\n  return (\n    <aside className=\"recent-block recent-list recent-wide-thumbnail\">\n      <div className=\"container\">\n        <h2 className=\"text-center text-uppercase\">RECENTLY VIEWED</h2>\n        <div className=\"row recent-block-row\">\n          {tours.map((tour, index) => {\n            const { id, frontmatter } = allTours[tour]\n            const {\n              tourName,\n              slug,\n              duration,\n              fromPricing,\n              destination,\n              activity,\n              subActivity,\n              popularTour,\n            } = frontmatter\n            const tourLink = `/${destination.frontmatter.code}/${activity[0].name.frontmatter.code}/${slug}`\n            const { image } = popularTour\n            return (\n              <article key={id} className=\"col-sm-6 col-md-3 article\">\n                <div className=\"thumbnail\">\n                  <h3\n                    ref={(h3) => {\n                      if (\n                        isNotMobile &&\n                        h3 &&\n                        (h3.clientHeight > state.heights[index] ||\n                          !state.heights[index])\n                      ) {\n                        dispatch({\n                          type: 'add',\n                          payload: { index, height: h3.clientHeight },\n                        })\n                      }\n                    }}\n                    style={\n                      isNotMobile && state.totalMeasurements >= tours.map.length\n                        ? { height: `${state.maxHeight}px` }\n                        : {}\n                    }\n                    className=\"no-space\"\n                  >\n                    <Link to={tourLink}>{tourName}</Link>\n                  </h3>\n                  <strong className=\"info-title\">\n                    {destination.frontmatter.destinationName}\n                  </strong>\n                  <div className=\"img-wrap\">\n                    {image && image.childImageSharp ? (\n                      <Img fluid={image.childImageSharp.fluid} alt={tourName} />\n                    ) : null}\n                  </div>\n                  <footer>\n                    <div className=\"sub-info\">\n                      <span>{duration}</span>\n                      <span>{fromPricing}</span>\n                    </div>\n                    <ActivitiesList data={{ activity, subActivity }} />\n                  </footer>\n                </div>\n              </article>\n            )\n          })}\n        </div>\n      </div>\n    </aside>\n  )\n}\nexport default RecentlyViews\n","import React from 'react'\nimport { Link } from 'gatsby'\n\nimport { Reference } from '../../types'\nimport RaftingIcon from '../../img/icons/icon-rafting.inline.svg'\n\nconst iconFiles = {\n  rafting: RaftingIcon,\n}\n\ninterface ActivitiesListData {\n  activity: { name: Reference; featured: number }[]\n  subActivity: Reference[] | null\n}\n\ninterface ActiviyIntroProps {\n  data: ActivitiesListData\n}\n\nconst ActivitiesList = ({\n  data: { activity, subActivity },\n}: ActiviyIntroProps) => (\n  <ul className=\"ico-list\">\n    {activity.map(({ name: { id, frontmatter } }) => {\n      const { activityName, icon, iconFile, code } = frontmatter\n      const IconFile = iconFile ? iconFiles[iconFile] : undefined\n      return (\n        <li key={id} className=\"pop-opener\">\n          <Link to={`/activity/${code}/`}>\n            {iconFile ? (\n              <span className=\"ico-file\">\n                <IconFile />\n              </span>\n            ) : (\n              <span className={icon}></span>\n            )}\n          </Link>\n          <div className=\"popup\">{activityName}</div>\n        </li>\n      )\n    })}\n    {subActivity\n      ? subActivity\n          .filter(\n            (e) =>\n              !activity.find(\n                (item) => e.frontmatter.code === item.name.frontmatter.code,\n              ),\n          )\n          .map(({ id, frontmatter }) => {\n            const { title, icon } = frontmatter\n            return (\n              <li key={id} className=\"pop-opener\">\n                <span className={icon}></span>\n                <div className=\"popup\">{title}</div>\n              </li>\n            )\n          })\n      : null}\n  </ul>\n)\n\nexport default ActivitiesList\n","var React = require('react');\n\nfunction IconRaftingInline (props) {\n    return React.createElement(\"svg\",props,React.createElement(\"path\",{\"fill\":\"currentcolor\",\"d\":\"M21.493 8.001l-.542.97c-.354.718-1.086 1.029-1.923 1.029h-1.274c.731 1 1.901 1.819 3.257 1.819 2.218 0 3.989-1.676 3.989-3.888v.069h-3.318c-.083 0-.166-.082-.189.001zm-2.465.999c.437 0 .825-.152 1.003-.528l.53-.948c.201-.435.626-.524 1.121-.524h4.153c-.543-2-2.489-3.848-4.791-3.848-2.725 0-4.931 2.018-4.931 4.748 0 .436.047 1.1.165 1.1h2.75zm13.656 22c3.699 0 13.361-1.133 16.021-3.676-1.197-3.676-5.916-3.97-10.246-2.098-.744.322-1.734.56-2.867.772l-.885-3.426c.707-.365 1.174-1.113 1.131-1.954-.045-1.148-1.008-2.045-2.156-1.998l-.65-2.509c.639-.482.975-1.295.785-2.124-.26-1.124-1.375-1.836-2.502-1.583 0 0-9.161.082-12.034.853-2.867.771-3.834 5.589-3.834 5.589l-2.519 8.154h-11.928v4h31.684zm-8.235-14.196l7.108-.293.566 2.177c-1.922.094-5.338.271-8.388.441l.714-2.325zm-1.982 6.496l10.724-.482.891 3.413c-4.377.629-10.052.719-12.736.73l1.121-3.661zm20.039 12.309s6.494-.082 6.494-6.42c0-.254-.025-.445-.047-.68-4.053 2.929-14.883 3.491-16.252 3.491h-31.701v4.904c.767 0 1.558-.178 2.253-.482 1.145-.529 2.419-.812 3.67-.812 1.25 0 2.513.283 3.633.801.743.33 1.51.494 2.289.494.791 0 1.557-.164 2.265-.482 1.156-.529 2.418-.812 3.669-.812 1.262 0 2.501.271 3.646.801.719.33 1.509.494 2.289.494.778 0 1.545-.164 2.264-.482 1.145-.529 2.42-.812 3.658-.812 1.273 0 2.502.271 3.645.801.732.33 1.521.494 2.289.494l.277-.012.945 3.623c-.408.07-.814.119-1.234.119-1.037 0-2.041-.225-2.926-.625-.908-.424-1.934-.67-3.008-.67-1.072 0-2.1.246-3.008.67-.885.4-1.877.625-2.915.625s-2.041-.225-2.926-.625c-.908-.424-1.934-.67-3.008-.67s-2.1.246-3.008.67c-.885.4-1.876.625-2.914.625-1.026 0-2.029-.225-2.914-.625-.909-.424-1.935-.67-3.008-.67-1.062 0-2.089.246-2.997.67-.896.398-1.888.623-2.926.623v4.365c1.038 0 2.03-.223 2.926-.623.908-.424 1.935-.672 2.997-.672 1.073 0 2.099.248 3.008.672.885.4 1.888.623 2.914.623 1.038 0 2.029-.223 2.914-.623.908-.424 1.935-.672 3.008-.672 1.075 0 2.1.248 3.008.672.885.4 1.888.623 2.926.623s2.03-.223 2.915-.623c.908-.424 1.936-.672 3.008-.672 1.074 0 2.1.248 3.008.672.885.4 1.889.623 2.926.623 1.025 0 2.031-.223 2.914-.623.91-.424 1.936-.672 3.01-.672 1.072 0 1.892.248 2.8.672.885.4 1.718.623 2.718.623v-4.365c-1 0-1.833-.225-2.718-.625-.908-.424-1.831-.67-2.903-.67-1.074 0-2.048.246-2.958.67l-.188.082-.895-3.482.49-.188c1.146-.529 2.428-.813 3.678-.813z\"}));\n}\n\nIconRaftingInline.defaultProps = {\"version\":\"1.2\",\"baseProfile\":\"tiny\",\"width\":\"50\",\"height\":\"50\",\"viewBox\":\"0 0 50 50\",\"overflow\":\"inherit\"};\n\nmodule.exports = IconRaftingInline;\n\nIconRaftingInline.default = IconRaftingInline;\n","/*!\n * cookie\n * Copyright(c) 2012-2014 Roman Shtylman\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n'use strict';\n/**\n * Module exports.\n * @public\n */\n\nexports.parse = parse;\nexports.serialize = serialize;\n/**\n * Module variables.\n * @private\n */\n\nvar decode = decodeURIComponent;\nvar encode = encodeURIComponent;\nvar pairSplitRegExp = /; */;\n/**\n * RegExp to match field-content in RFC 7230 sec 3.2\n *\n * field-content = field-vchar [ 1*( SP / HTAB ) field-vchar ]\n * field-vchar   = VCHAR / obs-text\n * obs-text      = %x80-FF\n */\n\nvar fieldContentRegExp = /^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;\n/**\n * Parse a cookie header.\n *\n * Parse the given cookie header string into an object\n * The object has the various cookies as keys(names) => values\n *\n * @param {string} str\n * @param {object} [options]\n * @return {object}\n * @public\n */\n\nfunction parse(str, options) {\n  if (typeof str !== 'string') {\n    throw new TypeError('argument str must be a string');\n  }\n\n  var obj = {};\n  var opt = options || {};\n  var pairs = str.split(pairSplitRegExp);\n  var dec = opt.decode || decode;\n\n  for (var i = 0; i < pairs.length; i++) {\n    var pair = pairs[i];\n    var eq_idx = pair.indexOf('='); // skip things that don't look like key=value\n\n    if (eq_idx < 0) {\n      continue;\n    }\n\n    var key = pair.substr(0, eq_idx).trim();\n    var val = pair.substr(++eq_idx, pair.length).trim(); // quoted values\n\n    if ('\"' == val[0]) {\n      val = val.slice(1, -1);\n    } // only assign once\n\n\n    if (undefined == obj[key]) {\n      obj[key] = tryDecode(val, dec);\n    }\n  }\n\n  return obj;\n}\n/**\n * Serialize data into a cookie header.\n *\n * Serialize the a name value pair into a cookie string suitable for\n * http headers. An optional options object specified cookie parameters.\n *\n * serialize('foo', 'bar', { httpOnly: true })\n *   => \"foo=bar; httpOnly\"\n *\n * @param {string} name\n * @param {string} val\n * @param {object} [options]\n * @return {string}\n * @public\n */\n\n\nfunction serialize(name, val, options) {\n  var opt = options || {};\n  var enc = opt.encode || encode;\n\n  if (typeof enc !== 'function') {\n    throw new TypeError('option encode is invalid');\n  }\n\n  if (!fieldContentRegExp.test(name)) {\n    throw new TypeError('argument name is invalid');\n  }\n\n  var value = enc(val);\n\n  if (value && !fieldContentRegExp.test(value)) {\n    throw new TypeError('argument val is invalid');\n  }\n\n  var str = name + '=' + value;\n\n  if (null != opt.maxAge) {\n    var maxAge = opt.maxAge - 0;\n    if (isNaN(maxAge)) throw new Error('maxAge should be a Number');\n    str += '; Max-Age=' + Math.floor(maxAge);\n  }\n\n  if (opt.domain) {\n    if (!fieldContentRegExp.test(opt.domain)) {\n      throw new TypeError('option domain is invalid');\n    }\n\n    str += '; Domain=' + opt.domain;\n  }\n\n  if (opt.path) {\n    if (!fieldContentRegExp.test(opt.path)) {\n      throw new TypeError('option path is invalid');\n    }\n\n    str += '; Path=' + opt.path;\n  }\n\n  if (opt.expires) {\n    if (typeof opt.expires.toUTCString !== 'function') {\n      throw new TypeError('option expires is invalid');\n    }\n\n    str += '; Expires=' + opt.expires.toUTCString();\n  }\n\n  if (opt.httpOnly) {\n    str += '; HttpOnly';\n  }\n\n  if (opt.secure) {\n    str += '; Secure';\n  }\n\n  if (opt.sameSite) {\n    var sameSite = typeof opt.sameSite === 'string' ? opt.sameSite.toLowerCase() : opt.sameSite;\n\n    switch (sameSite) {\n      case true:\n        str += '; SameSite=Strict';\n        break;\n\n      case 'lax':\n        str += '; SameSite=Lax';\n        break;\n\n      case 'strict':\n        str += '; SameSite=Strict';\n        break;\n\n      case 'none':\n        str += '; SameSite=None';\n        break;\n\n      default:\n        throw new TypeError('option sameSite is invalid');\n    }\n  }\n\n  return str;\n}\n/**\n * Try decoding a string using a decoding function.\n *\n * @param {string} str\n * @param {function} decode\n * @private\n */\n\n\nfunction tryDecode(str, decode) {\n  try {\n    return decode(str);\n  } catch (e) {\n    return str;\n  }\n}","import * as cookie from 'cookie';\nexport function hasDocumentCookie() {\n  // Can we get/set cookies on document.cookie?\n  return typeof document === 'object' && typeof document.cookie === 'string';\n}\nexport function cleanCookies() {\n  document.cookie.split(';').forEach(function (c) {\n    document.cookie = c.replace(/^ +/, '').replace(/=.*/, '=;expires=' + new Date().toUTCString() + ';path=/');\n  });\n}\nexport function parseCookies(cookies, options) {\n  if (typeof cookies === 'string') {\n    return cookie.parse(cookies, options);\n  } else if (typeof cookies === 'object' && cookies !== null) {\n    return cookies;\n  } else {\n    return {};\n  }\n}\nexport function isParsingCookie(value, doNotParse) {\n  if (typeof doNotParse === 'undefined') {\n    // We guess if the cookie start with { or [, it has been serialized\n    doNotParse = !value || value[0] !== '{' && value[0] !== '[' && value[0] !== '\"';\n  }\n\n  return !doNotParse;\n}\nexport function readCookie(value, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var cleanValue = cleanupCookieValue(value);\n\n  if (isParsingCookie(cleanValue, options.doNotParse)) {\n    try {\n      return JSON.parse(cleanValue);\n    } catch (e) {// At least we tried\n    }\n  } // Ignore clean value if we failed the deserialization\n  // It is not relevant anymore to trim those values\n\n\n  return value;\n}\n\nfunction cleanupCookieValue(value) {\n  // express prepend j: before serializing a cookie\n  if (value && value[0] === 'j' && value[1] === ':') {\n    return value.substr(2);\n  }\n\n  return value;\n}","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport * as cookie from 'cookie';\nimport { hasDocumentCookie, parseCookies, readCookie } from './utils';\n\nvar Cookies =\n/** @class */\nfunction () {\n  function Cookies(cookies, options) {\n    var _this = this;\n\n    this.changeListeners = [];\n    this.HAS_DOCUMENT_COOKIE = false;\n    this.cookies = parseCookies(cookies, options);\n    new Promise(function () {\n      _this.HAS_DOCUMENT_COOKIE = hasDocumentCookie();\n    }).catch(function () {});\n  }\n\n  Cookies.prototype._updateBrowserValues = function (parseOptions) {\n    if (!this.HAS_DOCUMENT_COOKIE) {\n      return;\n    }\n\n    this.cookies = cookie.parse(document.cookie, parseOptions);\n  };\n\n  Cookies.prototype._emitChange = function (params) {\n    for (var i = 0; i < this.changeListeners.length; ++i) {\n      this.changeListeners[i](params);\n    }\n  };\n\n  Cookies.prototype.get = function (name, options, parseOptions) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    this._updateBrowserValues(parseOptions);\n\n    return readCookie(this.cookies[name], options);\n  };\n\n  Cookies.prototype.getAll = function (options, parseOptions) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    this._updateBrowserValues(parseOptions);\n\n    var result = {};\n\n    for (var name_1 in this.cookies) {\n      result[name_1] = readCookie(this.cookies[name_1], options);\n    }\n\n    return result;\n  };\n\n  Cookies.prototype.set = function (name, value, options) {\n    var _a;\n\n    if (typeof value === 'object') {\n      value = JSON.stringify(value);\n    }\n\n    this.cookies = __assign(__assign({}, this.cookies), (_a = {}, _a[name] = value, _a));\n\n    if (this.HAS_DOCUMENT_COOKIE) {\n      document.cookie = cookie.serialize(name, value, options);\n    }\n\n    this._emitChange({\n      name: name,\n      value: value,\n      options: options\n    });\n  };\n\n  Cookies.prototype.remove = function (name, options) {\n    var finalOptions = options = __assign(__assign({}, options), {\n      expires: new Date(1970, 1, 1, 0, 0, 1),\n      maxAge: 0\n    });\n\n    this.cookies = __assign({}, this.cookies);\n    delete this.cookies[name];\n\n    if (this.HAS_DOCUMENT_COOKIE) {\n      document.cookie = cookie.serialize(name, '', finalOptions);\n    }\n\n    this._emitChange({\n      name: name,\n      value: undefined,\n      options: options\n    });\n  };\n\n  Cookies.prototype.addChangeListener = function (callback) {\n    this.changeListeners.push(callback);\n  };\n\n  Cookies.prototype.removeChangeListener = function (callback) {\n    var idx = this.changeListeners.indexOf(callback);\n\n    if (idx >= 0) {\n      this.changeListeners.splice(idx, 1);\n    }\n  };\n\n  return Cookies;\n}();\n\nexport default Cookies;","import Cookies from 'universal-cookie';\nexport default Cookies;","import * as React from 'react';\nimport Cookies from './Cookies';\nvar CookiesContext = React.createContext(new Cookies());\nexport var Provider = CookiesContext.Provider,\n    Consumer = CookiesContext.Consumer;\nexport default CookiesContext;","import { useContext, useEffect, useState, useRef, useMemo } from 'react';\nimport CookiesContext from './CookiesContext';\nexport default function useCookies(dependencies) {\n  var cookies = useContext(CookiesContext);\n\n  if (!cookies) {\n    throw new Error('Missing <CookiesProvider>');\n  }\n\n  var initialCookies = cookies.getAll();\n\n  var _a = useState(initialCookies),\n      allCookies = _a[0],\n      setCookies = _a[1];\n\n  var previousCookiesRef = useRef(allCookies);\n  useEffect(function () {\n    function onChange() {\n      var newCookies = cookies.getAll();\n\n      if (shouldUpdate(dependencies || null, newCookies, previousCookiesRef.current)) {\n        setCookies(newCookies);\n      }\n\n      previousCookiesRef.current = newCookies;\n    }\n\n    cookies.addChangeListener(onChange);\n    return function () {\n      cookies.removeChangeListener(onChange);\n    };\n  }, [cookies]);\n  var setCookie = useMemo(function () {\n    return cookies.set.bind(cookies);\n  }, [cookies]);\n  var removeCookie = useMemo(function () {\n    return cookies.remove.bind(cookies);\n  }, [cookies]);\n  return [allCookies, setCookie, removeCookie];\n}\n\nfunction shouldUpdate(dependencies, newCookies, oldCookies) {\n  if (!dependencies) {\n    return true;\n  }\n\n  for (var _i = 0, dependencies_1 = dependencies; _i < dependencies_1.length; _i++) {\n    var dependency = dependencies_1[_i];\n\n    if (newCookies[dependency] !== oldCookies[dependency]) {\n      return true;\n    }\n  }\n\n  return false;\n}"],"sourceRoot":""}